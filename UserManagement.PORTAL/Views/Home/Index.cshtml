
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link type="text/css" rel="stylesheet" href="~/Content/vendors/bootstrapvalidator/css/bootstrapValidator.min.css" />
<link type="text/css" rel="stylesheet" href="~/Content/vendors/swiper/css/swiper.min.css" />
<link type="text/css" rel="stylesheet" href="~/Content/vendors/bootstrap-switch/css/bootstrap-switch.min.css" />
<link type="text/css" rel="stylesheet" href="~/Content/vendors/toastr/css/toastr.min.css" />
<link type="text/css" rel="stylesheet" href="~/Content/vendors/switchery/css/switchery.min.css" />
<link rel="stylesheet" type="text/css" href="~/Content/css/pages/widgets.css">
<link type="text/css" rel="stylesheet" href="#" id="skin_change" />
<style>
    div.icon_align {
        padding: 40px 10px 46px;
    }
    div.section_border {
        border: 2px solid rgba(0, 0, 0, 0.125);
    }
</style>
<div id="content" class="bg-container">
    <header class="head">
        <div class="main-bar">
            <div class="row no-gutters">
                <div class="col-lg-6 col-sm-5">
                    <h4 class="nav_top_align">
                        <i class="fa fa-anchor" aria-hidden="true"></i>
                        Trang Chủ
                    </h4>
                </div>
            </div>
        </div>
    </header>
    <div class="outer">
        <div class="inner bg-container">
            <div class="row">
                <div class="col-12 col-sm-6 col-lg-3">
                    <div class="icon_align bg-white section_border">
                        <div class="float-left progress_icon">
                            <i class="fa fa-calendar text-success" aria-hidden="true"></i>
                        </div>
                        <div class="text-right">
                            <h3 id="widget_count5">0</h3>
                            <p>Tổng số ngày đi làm</p>
                        </div>
                        <h5>Tổng ngày <span class="float-right">@ViewBag.TotalRollCountday / @ViewBag.TotalDay </span></h5>
                        <div class="progress">
                            <div class="progress-bar progress-striped bg-success" id="processRollCount" role="progressbar"></div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-6 col-lg-3 media_max_991">
                    <div class="icon_align bg-white widget_border">
                        <div class="float-left progress_icon">
                            <i class="fa fa-money text-info" aria-hidden="true"></i>
                        </div>
                        <div class="text-right">
                            <div class="row">
                                <h3 class="col-11" id="widget_count8" style="padding-right:0px"></h3>
                                <p class="col-1" style="margin-bottom:0px;padding-left:9px"> VND</p>
                            </div>

                            <p>Tổng Lương Đi Làm</p>
                        </div>
                        <h5>Tiền lương <span class="float-right">@ViewBag.Salary / @ViewBag.TotalSalary</span></h5>
                        <div class="progress">
                            <div class="progress-bar progress-striped bg-info" id="processSalary" role="progressbar"></div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-6 col-lg-3">
                    <div class="icon_align bg-white section_border">
                        <div class="float-left progress_icon">
                            <i class="fa fa-calendar text-warning" aria-hidden="true"></i>
                        </div>
                        <div class="text-right">
                            <h3 id="widget_count6">0</h3>
                            <p>Tổng số nhân viên</p>
                        </div>
                        <h5>Toàn bộ nhân viên <span class="float-right">@ViewBag.TotalUser</span></h5>
                        <div class="progress">
                            <div class="progress-bar progress-striped bg-warning" id="#" style="width:100%" role="progressbar"></div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-6 col-lg-3 media_max_991">
                    <div class="bg-warning m-t-35 header_align" style="margin-top:0px;border-radius:5px;">
                        <div class="row">
                            <div class="col-lg-12 col-12">
                                <div class="row">
                                    <div class="col-12 float-left">
                                        <span class="current-date"></span>
                                    </div>
                                    <div class="col-12">
                                        <span class="time float-right "></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>


<!-- end of global scripts-->
<script type="text/javascript" src="~/Content/vendors/circliful/js/jquery.circliful.min.js"></script>
<script type="text/javascript" src="~/Content/vendors/bootstrapvalidator/js/bootstrapValidator.min.js"></script>
<script type="text/javascript" src="~/Content/vendors/moment/js/moment.min.js"></script>
<script type="text/javascript" src="~/Scripts/moment-with-locales.min.js"></script>
<script type="text/javascript" src="~/Content/vendors/toastr/js/toastr.min.js"></script>
<script type="text/javascript" src="~/Content/vendors/countUp.js/js/countUp.min.js"></script>
<script type="text/javascript" src="~/Content/vendors/swiper/js/swiper.min.js"></script>
<script type="text/javascript" src="~/Content/vendors/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<script type="text/javascript" src="~/Content/vendors/switchery/js/switchery.min.js"></script>
@*<script type="text/javascript" src="~/Content/js/pages/widget1.js"></script>*@
<script>
    /* Toastr notifications */
    $("#processRollCount").css("width", '@ViewBag.TotalRollCountday' * 100 / '@ViewBag.TotalDay' + "%");
    $("#processSalary").css("width", '@ViewBag.Salary' *100 / '@ViewBag.TotalSalary'+ "%");
    var i = -1;
    var toastCount = 0;
    var $toastlast;

    var shortCutFunction = "success";
    var msg = "Chào mừng đăng nhập";
    var title = "<span>Xin Chào!</span> <h5 class='text-white'>" +'@ViewBag.Fullname'+"</h5>";
    var $showDuration = 1000;
    var $hideDuration = 1000;
    var $timeOut = 5000;
    var $extendedTimeOut = 1000;
    var $showEasing = "swing";
    var $hideEasing = "linear";
    var $showMethod = "fadeIn";
    var $hideMethod = "fadeOut";
    var toastIndex = toastCount++;
    toastr.options = {
        closeButton: $('#closeButton').prop('checked'),
        debug: $('#debugInfo').prop('checked'),
        positionClass: 'toast-top-right',
        onclick: null
    };
    if ($('#addBehaviorOnToastClick').prop('checked')) {
        toastr.options.onclick = function () {
            alert('You can perform some custom action after a toast goes away');
        };
    }
    if ($showDuration.length) {
        toastr.options.showDuration = $showDuration;
    }
    if ($hideDuration.length) {
        toastr.options.hideDuration = $hideDuration;
    }
    if ($timeOut.length) {
        toastr.options.timeOut = $timeOut;
    }
    if ($extendedTimeOut.length) {
        toastr.options.extendedTimeOut = $extendedTimeOut;
    }
    if ($showEasing.length) {
        toastr.options.showEasing = $showEasing;
    }
    if ($hideEasing.length) {
        toastr.options.hideEasing = $hideEasing;
    }
    if ($showMethod.length) {
        toastr.options.showMethod = $showMethod;
    }
    if ($hideMethod.length) {
        toastr.options.hideMethod = $hideMethod;
    }
    $("#toastrOptions").text("Command: toastr[" + shortCutFunction + "](\"" + msg + (title ? "\", \"" + title : '') + "\")\n\ntoastr.options = " + JSON.stringify(toastr.options, null, 2));
    var $toast = toastr[shortCutFunction](msg, title); // Wire up an event handler to a button in the toast, if it exists
    $toastlast = $toast;
    moment.locale('vi');
    var options = {
        useEasing: true,
        useGrouping: true,
        decimal: '.',
        prefix: '',
        suffix: ''
    };
    new CountUp("widget_count5", 0, '@ViewBag.TotalRollCountday', 0, 10, options).start();
    new CountUp("widget_count8", 0, '@ViewBag.Salary', 0, 10, options).start();
    new CountUp("widget_count6", 0, '@ViewBag.TotalUser', 0, 10, options).start();
    var datetime = null,
        time = null,
        date = null;

    var update = function () {
        date = moment(new Date());
        datetime.html(date.format('DD MMMM YYYY <br> dddd'));
        time.html(date.format('H:mm:ss'));
    };
    //Current Time
    if ($('.current-date')[0] && $('.time')[0]) {
        datetime = $('.current-date');
        time = $('.time');

        update();
        setInterval(update, 1000);
    }
</script>

@*<script>
        var app = new Vue({
            el: '#login',
            data: {
            },
            watch: {
            },
            updated() {
            },
            mounted() {
            },
            methods: {
                Login: function () {
                    if (!isEmpty(this.Email) && !isEmpty(this.Password)) {
                        axios
                            .post(API_BASE_URL + '/Account/Login', { "Email": this.Email, "Password": this.Password })
                            .then(response => {
                                //console.log("response.success = " + response.success);
                                console.log(response.data.success);
                                if (response.data.success) {
                                    this.Error = null;
                                    var url = '@ViewBag.ReturnUrl';
                                    if (url == undefined || url == "" || url == null)
                                        window.open(API_BASE_URL, "_self");
                                    else
                                        window.open(url, "_self");


                                }
                                else {
                                    this.Error = response.data.content;
                                    iziToast.error({
                                        title: 'Không thành công',
                                        message: response.data.content,
                                        position: 'bottomLeft'
                                    });
     ;
                                }
                            })
                    }

                    else {
                        this.Error = "Không được để trống Email hoặc Mật Khẩu";
                        iziToast.error({
                            title: 'Không thành công',
                            message: "Không được để trống Email hoặc Mật Khẩu",
                            position: 'bottomLeft'
                        });
                    }

                }
            }
        })
</script>*@
